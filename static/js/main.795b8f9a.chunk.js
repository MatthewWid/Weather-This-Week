(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(29)},,,,,,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),o=a.n(c),i=a(1),s=a(2),l=a(5),u=a(3),h=a(4),d=a(6),m=(a(15),{API_KEY:"f777dcb03b2cca79453194e6f50610f5"});var p=function(){if("geolocation"in navigator)return new Promise(function(e,t){navigator.geolocation.getCurrentPosition(e,t,{timeout:1e4})});console.warn('"geolocation" not available in user navigator.')},f=(a(17),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.current;return r.a.createElement("section",{className:"weather-today"},r.a.createElement("h1",{className:"weather-today__section weather-today__title",title:"".concat(e.name,", ").concat(e.sys.country)},e.name),r.a.createElement("div",{className:"weather-today__section weather-today__data",title:"".concat(e.main.temp_min,"\xb0 - ").concat(e.main.temp,"\xb0 + ").concat(e.main.temp_max,"\xb0")},r.a.createElement("div",{className:"weather-today__data-value"},parseInt(e.main.temp),"\xb0C"),r.a.createElement("div",{className:"weather-today__data-key"},"Temperature")),r.a.createElement("div",{className:"weather-today__section weather-today__data",title:"Average rainfall in the past three (3) hours (Millimeters)."},r.a.createElement("div",{className:"weather-today__data-value"},parseInt((e.rain||{})["3h"]||0),"mm"),r.a.createElement("div",{className:"weather-today__data-key"},"Rain")),r.a.createElement("div",{className:"weather-today__section weather-today__data"},r.a.createElement("div",{className:"weather-today__data-value"},e.main.humidity,"%"),r.a.createElement("div",{className:"weather-today__data-key"},"Humidity")),r.a.createElement("div",{className:"weather-today__section weather-today__data"},r.a.createElement("div",{className:"weather-today__data-value"},e.clouds.all,"%"),r.a.createElement("div",{className:"weather-today__data-key"},"Cloudiness")),r.a.createElement("div",{className:"weather-today__section weather-today__data"},r.a.createElement("div",{className:"weather-today__data-value"},e.wind.speed,"m/s"),r.a.createElement("div",{className:"weather-today__data-key"},"Wind Speed")))}}]),t}(n.Component)),w=(a(19),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"weather-forecast-card"},r.a.createElement("div",{className:"weather-forecast-card__day".concat(0===this.props.index?" weather-forecast-card__day--underline":"")},this.props.dayName),r.a.createElement("img",{src:"http://openweathermap.org/img/w/".concat(this.props.weather.weather[0].icon,".png"),className:"weather-forecast-card__image",title:this.props.weather.weather[0].description,alt:this.props.weather.weather[0].description}),r.a.createElement("div",{className:"weather-forecast-card__temp"},parseInt(this.props.weather.main.temp),"\xb0C"))}}]),t}(n.Component)),y=(a(21),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=[];this.props.forecast.list.forEach(function(t){"12"===t.dt_txt.split(" ")[1].split(":")[0]&&e.push(t)});var t=["Sun","Mon","Tue","Wed","Thurs","Fri","Sat"],a=e.map(function(e,a){var n=t[new Date(e.dt_txt).getDay()];return r.a.createElement(w,{dayName:n,weather:e,key:a,index:a})});return r.a.createElement("section",{className:"weather-forecast"},a)}}]),t}(n.Component)),v=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"weather-info"},r.a.createElement(f,{current:this.props.current}),r.a.createElement(y,{forecast:this.props.forecast}))}}]),t}(n.Component),_=(a(23),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"loading-indicator"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}}]),t}(n.Component)),E=(a(25),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"search-form"},r.a.createElement("input",{type:"text",className:"search-form__input",placeholder:"Search for a city...",onKeyDown:this.props.searchLocation}))}}]),t}(n.Component)),g=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={stage:"initial",currentWeather:null,weeklyForecast:null},a.searchLocation=a.searchLocation.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.myVar=p().then(function(t){e.setState({stage:"loading"});var a=t.coords,n=a.latitude,r=a.longitude;Promise.all([fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(n,"&lon=").concat(r,"&units=metric&appid=").concat(m.API_KEY)).then(function(e){return e.json()}),fetch("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(n,"&lon=").concat(r,"&units=metric&appid=").concat(m.API_KEY)).then(function(e){return e.json()})]).then(function(t){e.setState({currentWeather:t[0],weeklyForecast:t[1],stage:"display"})}).catch(function(e){console.error("Error querying API...",e)})}).catch(function(e){console.warn("Unable to obtain user's geographical location. Continuing without default state.")})}},{key:"searchLocation",value:function(e){var t=this;if(13===e.keyCode){if(!e.target.value||e.target.value.length<2)return;e.preventDefault(),this.setState({stage:"loading"});var a=encodeURIComponent(e.target.value);Promise.all([fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(a,"&units=metric&appid=").concat(m.API_KEY)).then(function(e){return e.json()}),fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(a,"&units=metric&appid=").concat(m.API_KEY)).then(function(e){return e.json()})]).then(function(e){"404"!==e[0].cod&&"404"!==e[1].cod?t.setState({currentWeather:e[0],weeklyForecast:e[1],stage:"display"}):t.setState({stage:"error"})}).catch(function(e){console.error("Error querying API...",e)})}}},{key:"render",value:function(){var e;return e="display"===this.state.stage?r.a.createElement(v,{current:this.state.currentWeather,forecast:this.state.weeklyForecast}):"loading"===this.state.stage?r.a.createElement(_,null):"error"===this.state.stage?r.a.createElement("p",null,"Cannot find that city or location."):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{className:"weather-app"},r.a.createElement(E,{searchLocation:this.searchLocation}),e)}}]),t}(n.Component);a(27),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[9,2,1]]]);
//# sourceMappingURL=main.795b8f9a.chunk.js.map